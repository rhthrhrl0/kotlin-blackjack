# Kotlin-Blackjack

### 기능 요구 사항

- [x] 이름을 받는다
    - 쉼표로 이름을 구분한다.
    - 문자열이 아닌 경우 재입력 처리한다.
- [X] 카드를 나누어 준다
    - [x] 53장의 카드 리스트를 생성한다.
    - [x] 카드를 랜덤으로 1장 뽑고, 카드리스트에서 제거한다.
    - [X] 2장의 카드를 각 플레어와 딜러에게 나누어준다.
- [x] 처음 받은 두장의 카드를 출력해준다.
- [x] 카드의 합이 21 초과인지 확인한다.
- [x] 플레이어 마다 더 받을지 말지 판단한다.
- [x] 딜러가 카드를 받을지 말지 판단한다.
    - [x] 카드의 합이 17이상인지 확인한다.
- [x] 총 결과를 출력한다
- [x] 수익을 출력한다.
    - [x] 딜러와 플레이어의 카드 상태를 비교해서 수익률을 구하고 그걸 토대로 수익 금액을 구하고 출력한다.

- Name
    - [x] 이름은 문자열만 허용된다.
- Names
    - [x] 이름 개수는 최대 8명이다.
- BetMoney
    - [x] 베팅금액이 1000원 이상 1000만원 이하의 범위 안에 들어오는지 검사한다.
- PlayerInfo
    - [x] 이름과 베팅금액을 저장한다.
- Participants
    - [x] 딜러와 플레이어들을 합쳐서 관리한다.
- Participant
    - [x] 이름, 소유한 카드의 상태
    - [x] 더 받을지 말지 결정하는 메소드인 isPossibleDrawCard 가 있다.
- Players
    - [x] 플레이어는 1명이상 8명이하여야 한다
- Player
    - [x] 이름과 베팅 금액이 담긴 플레이어의 정보를 생성자에서 받는다.
- Dealer
    - [x] 카드의 합이 17이상인지 확인한다.
    - [x] 딜러로부터 플레이어의 승패 결과를 알려준다.
- RateOfProfit
    - [x] 딜러로부터 플레이어의 결과에 대한 수익률 정보를 추상화한 enum 클래스
- ProfitMoney
    - [x] 수익금액을 담는 래퍼 클래스 
- BetProfitResult
    - [x] 플레이어와 딜러를 인자로 받아서 플레이어의 투자 금액을 토대로 플레이어와 딜러의 이득금액을 프로퍼티로 갖는다
- PlayersResultInfo
    - [x] 플레이어들의 게임 수행 결과가 담긴 클래스 
- ParticipantResultInfo
    - [x] 참가자 한 명의 게임 수행 결과가 담긴 클래스  
- Cards
    - [x] 스코어의 정보가 담긴 Score 객체를 반환하는 프로퍼티가 있다.
    - [x] 카드를 추가한 새로운 Cards 객체를 반환한다.
    - [x] 버스트 여부를 반환한다.
    - [x] 블랙잭 여부를 반환한다.
    - [x] 카드의 개수를 반환한다.
- Score
    - [x] 카드의 숫자 합과 에이스 포함 여부 정보를 토대로 21을 넘지 않는 가장 큰 스코어를 계산한다.
- CardDeck
    - [x] 53장 카드리스트를 소유한다.
    - [x] 카드를 한장 뽑아서 반환해준다.
- CardCategory
    - [x] 카드 문양 정보를 담고있는 enum 클래스
- CardNumber
    - [x] 카드 숫자 정보를 담고있는 enum 클래스
- BlackJackGame
    - [x] 딜러와 플레이어들을 생성한다
    - [x] 블랙잭 게임을 진행하는데 필요한 페이즈들을 갖고 있다.
    - [x] 플레이어가 카드를 더 받을 수 있을지 판단하고 원한다면 카드를 제공해준다.
    - [x] 딜러가 카드를 더 받을 수 있는지 판단하고 카드를 제공해준다.
    - [x] 게임의 최종 수익 결과가 담긴 결과를 반환해준다.
- InitDrawPhase
    - [x] 카드를 두 장씩 드로우 해서 참가자들에게 나눠준다.
    - [x] 처음 받은 카드를 보여준다.
- PlayerSelectAddPhase
    - [x] 플레이어들이 원한다면 카드를 더 받을수 있도록 해준다.
- DealerAddPhase
    - [x] 딜러가 카드를 더 받아야 한다면 계속 더 받도록 해준다.

-State: 카드의 현재 상태를 의미한다.
-FirstState
- 카드를 두장 받기 전까지의 상태를 의미한다.
    - 한 장 받으면 FirstState를 반환한다
    - 총 두 장이 되면, Hit, BlackJack 둘 중 하나로 상태가 바뀐다.
- BlackJackState
    - 카드를 두 장 받았는데 21인 경우의 상태를 의미한다.
    - 더이상 카드를 뽑을 수 없고 수익률을 생성할 수 있는 상태를 의미한다.
- HitState
    - 카드를 두 장 이상 받았는데 21을 넘지 않고 아직 카드를 더 받을 수 있는 경우의 상태를 의미한다.
- StayState
    - 카드의 합이 21이하일때 그만 뽑겠다고 선언한 상태를 의미한다.
    - 더이상 카드를 뽑을 수 없고 수익률을 생성할 수 있는 상태를 의미한다.
- BustState
    - 카드의 합이 21을 넘어서 Bust가 된 상태다.
    - 더이상 카드를 뽑을 수 없고 수익률을 생성할 수 있는 상태를 의미한다.


- StartedState: 게임이 시작된 상태를 의미한다. RunningState와 FinishedState의 부모 추상클래스
  - RunningState: 아직 카드를 더 추가할 수 있는 상태를 의미. FirstState와 HitState의 부모 추상클래스
  - FinishedState: 카드를 더 추가할 수 없는 상태를 의미. BlackJack, Bust, Stay State의 부모 추상클래스
